<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>API tester</title>
  <style>img{ height: 100px; float: left; }	</style>
  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
</head>
<body>
<script>
(function() {
	
  var tree = {
		  "name": "aquatic",
		  "options": {
		    "split_point": "nominal",
		    "id": "aquatic",
		    "attribute_name": "aquatic",
		    "kind": "split_node",
		    "gain_ratio": 0.10834896756263769,
		    "infogain": 0.10181386403186005,
		    "total_below_left": 65,
		    "total_below_right": 36,
		    "bin_size": 101,
		    "errors_from_left": 30,
		    "errors_from_right": 6,
		    "total_errors_here": 36,
		    "pct_correct_here": 64.35643564356435
		  },
		  "cid": "c7",
		  "edit": 0,
		  "highlight": 0,
		  "children": [
		    {
		      "name": "FALSE",
		      "options": {
		        "threshold": "FALSE",
		        "bin_size": 65,
		        "kind": "split_value"
		      },
		      "cid": "c17",
		      "edit": 0,
		      "highlight": 0,
		      "children": [
		        {
		          "name": "tail",
		          "options": {
		            "split_point": "nominal",
		            "id": "tail",
		            "attribute_name": "tail",
		            "kind": "split_node",
		            "gain_ratio": 0.06080720189176067,
		            "infogain": 0.048957398877010186,
		            "total_below_left": 49,
		            "total_below_right": 16,
		            "bin_size": 65,
		            "errors_from_left": 19,
		            "errors_from_right": 5,
		            "total_errors_here": 24,
		            "pct_correct_here": 63.07692307692308
		          },
		          "cid": "c26",
		          "edit": 0,
		          "highlight": 0,
		          "children": [
		            {
		              "name": "TRUE",
		              "options": {
		                "threshold": "TRUE",
		                "bin_size": 49,
		                "kind": "split_value"
		              },
		              "cid": "c35",
		              "edit": 0,
		              "highlight": 0,
		              "children": [
		                {
		                  "name": "mammal",
		                  "options": {
		                    "kind": "leaf_node",
		                    "bin_size": 49,
		                    "errors": 19
		                  },
		                  "cid": "c44",
		                  "edit": 0,
		                  "highlight": 0,
		                  "children": [
		                    
		                  ],
		                  "x": 174,
		                  "y": 520,
		                  "x0": 174,
		                  "y0": 520
		                }
		              ],
		              "x": 174,
		              "y": 390,
		              "x0": 174,
		              "y0": 390
		            },
		            {
		              "name": "FALSE",
		              "options": {
		                "threshold": "FALSE",
		                "bin_size": 16,
		                "kind": "split_value"
		              },
		              "cid": "c53",
		              "edit": 0,
		              "highlight": 0,
		              "children": [
		                {
		                  "name": "not mammal",
		                  "options": {
		                    "kind": "leaf_node",
		                    "bin_size": 16,
		                    "errors": 5
		                  },
		                  "cid": "c62",
		                  "edit": 0,
		                  "highlight": 0,
		                  "children": [
		                    
		                  ],
		                  "x": 522,
		                  "y": 520,
		                  "x0": 522,
		                  "y0": 520
		                }
		              ],
		              "x": 522,
		              "y": 390,
		              "x0": 522,
		              "y0": 390
		            }
		          ],
		          "x": 348,
		          "y": 260,
		          "x0": 348,
		          "y0": 260
		        }
		      ],
		      "x": 348,
		      "y": 130,
		      "x0": 348,
		      "y0": 130
		    },
		    {
		      "name": "TRUE",
		      "options": {
		        "threshold": "TRUE",
		        "bin_size": 36,
		        "kind": "split_value"
		      },
		      "cid": "c71",
		      "edit": 0,
		      "highlight": 0,
		      "children": [
		        {
		          "name": "not mammal",
		          "options": {
		            "kind": "leaf_node",
		            "bin_size": 36,
		            "errors": 6
		          },
		          "cid": "c80",
		          "edit": 0,
		          "highlight": 0,
		          "children": [
		            
		          ],
		          "x": 696,
		          "y": 260,
		          "x0": 696,
		          "y0": 260
		        }
		      ],
		      "x": 696,
		      "y": 130,
		      "x0": 696,
		      "y0": 130
		    }
		  ],
		  "x": 522,
		  "y": 0,
		  "x0": 522,
		  "y0": 0
		}	
	
  var apiurl = "/cure/MetaServer";
  var args = {
	      command : "scoretree",
	      dataset : "mammal",
	      treestruct : tree
	    };
  console.log("trying it");
  $.ajax({
      type: 'POST',
      url: '/cure/MetaServer',
      data: JSON.stringify(args),
      dataType: 'json',
      contentType: "application/json; charset=utf-8"
    }).done(function( data ) {
        console.log("finished response :");
        console.log(data);
      });
})();
</script>
 
</body>
</html>
